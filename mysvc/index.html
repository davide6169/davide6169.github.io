<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<meta name="description" content="an open source UNIX framework for shell script based web service provider" />
<meta name="keywords" content="mysvc, shell script, web service, provider, service, soa, template, engine, myste, mysde, mysvcd" />
<link rel="stylesheet" href="./xhtml11.css" type="text/css" />
<link rel="stylesheet" href="./xhtml11-quirks.css" type="text/css" />
<link rel="stylesheet" href="./layout1.css" type="text/css" />
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){generateToc(2)}
/*]]>*/
</script>
<script type="text/javascript" src="./toc.js"></script>
<title>MySVC</title>
</head>
<body>
<div id="layout-banner">
  <div id="layout-title">MySVC</div>
  <div id="layout-description">an open source UNIX framework for shell script based web services provider</div>
</div>
<table>
<tr valign="top">
<td id="layout-menu">
  <div>&#187;<a href="./index.html">Home</a></div>
  <div>&#187;<a href="./tools.html">Tools</a></div>
  <div>&#187;<a href="./manpage.html">Man&nbsp;Page</a></div>
  <div>&#187;<a href="./userguide.html">User&nbsp;Guide</a></div>
  <div>&#187;<a href="./changelog.html">ChangeLog</a></div>
  <div>&#187;<a href="./install.html">Installation</a></div>
  <div>&#187;<a href="./sourcecode.html">Source Code</a></div>
  <div>&#187;<a href="./downloads.html">Downloads</a></div>
  <div>&#187;<a href="./faq.html">FAQ</a></div>
  <div>&#187;<a href="./support.html">Support</a></div>
  <div>&#187;<a href="./license.html">License</a></div>
  <hr/>
  <div>&#187;<a href="./myapps/index.html">My Apps</a></div>
  <div>
  <hr/>
  <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
  <input type="hidden" name="cmd" value="_s-xclick">
  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
  ">
  <input type="image" src="https://www.paypal.com/en_US/IT/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="">
  <img alt="" border="0" src="https://www.paypal.com/it_IT/i/scr/pixel.gif" width="1" height="1">
  </form>
  </div>
</td>
<td>
<div id="layout-content">
<div id="header">
<h1>Home Page</h1>
<span id="author">Davide Cucciniello</span><br />
<span id="email"><tt>&lt;<a href="mailto:davide6169@gmail.com">davide6169@gmail.com</a>&gt;</tt></span><br />
<span id="revision">version 0.400,</span>
2011-02-18
</div>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p><em>MySVC</em> (<em>My Service</em>) is an open source UNIX framework for shell script based web services provider.</p></div>
<div class="paragraph"><p>This framework let you easily realize fast prototypes of your web services using standard UNIX (bourne) shell scripts as implementation for web service operations.</p></div>
<div class="paragraph"><p>It is an engineering of a previous framework that i have developed years ago as employee, from startup to <em>shutdown</em>, of the great <a href="http://www.youtube.com/watch?gl=IT&amp;hl=it&amp;v=paWCExcupc0"><strong>blu</strong></a> mobile telephone operator to handle prepaid, postpaid and VPN provisioning interfaces and workflows on all <a href="http://www.youtube.com/watch?gl=IT&amp;hl=it&amp;v=paWCExcupc0"><strong>blu</strong></a> network elements, such as HLR, VMS and Intelligent Network, including then other ideas working on CRM, mediation devices, middleware systems and XML technologies such as XSLT and DocBook.</p></div>
<div class="paragraph"><p>Free use of these software is granted under the terms of GNU General Public Licence (GPL). See <a href="license.html">License</a>.</p></div>
<div class="sidebarblock">
<div class="sidebar-content">
<div class="sidebar-title">MySVC is still work in progress</div>
<div class="paragraph"><p>Now are released the following standalone tools part of <em><em>MySVC</em></em> framework:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em><em>MySTE</em></em> (<em>My Service Template Engine</em>)
</p>
</li>
<li>
<p>
<em>MySDE</em> (<em>My Service Development Environment</em>)
</p>
</li>
<li>
<p>
<em>MySPL</em> (<em>My Service Protocol Library</em>)
</p>
</li>
<li>
<p>
<em>MyExpr</em> (<em>My Service Expression Engine</em>)
</p>
</li>
<li>
<p>
<em>MySCVD</em> (<em>My Service Daemon</em>)
</p>
</li>
</ul></div>
</div></div>
</div>
<h2 id="_myste">MySTE</h2>
<div class="sectionbody">
<div class="paragraph"><p><em>MySTE</em> (<em>My Service Template Engine</em>) is a template engine, useful in an ICT environment.</p></div>
<div class="paragraph"><p>It could be used for example:</p></div>
<div class="ulist"><ul>
<li>
<p>
as filter copying from stdin to stdout where input can contains directives (identified by lines beginning with "@"), such as parameter definitions, and normal text referencing those parameters, e.g.:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><tt> ...
 login is @username@/@password@...
 ...</tt></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
as tool to handle configuration files from shell script, e.g.:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><tt> ...
 usr=`myste myconfigfile username`
 pwd=`myste myconfigfile password`
 ...</tt></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
to generate provisioning commands for network elements of a mobile operator, e.g.:
</p>
</li>
</ul></div>
<div class="paragraph"><p><em>input</em></p></div>
<div class="listingblock">
<div class="content">
<pre><tt> @define sim_activate_prepaid(msisdn,imsi)
 SIM:ACTIVATE:PREPAID:@msisdn[3]@:@imsi@:TIMESTAMP:@$(date '+%Y%m%d%H%M%S')@
 @end
 @define sim_list_postpaid
 222981122334455 393801234567
 222981122334456 393801234568
 222981122334457 393801234569
 @end
 @define sim_list_prepaid
 393801234567 222981122334455
 393801234568 222981122334456
 393801234569 222981122334457
 @end
 @foreach sim_list_postpaid
 SIM:ACTIVATE:POSTPAID:@2[3]@:@1@:TIMESTAMP:@$(date '+%Y%m%d%H%M%S')@
 @end
 @foreach sim_list_prepaid
 @sim_activate_prepaid(@1@,@2@)@
 @end</tt></pre>
</div></div>
<div class="paragraph"><p><em>output</em></p></div>
<div class="listingblock">
<div class="content">
<pre><tt> SIM:ACTIVATE:POSTPAID:3801234567:222981122334455:TIMESTAMP:20090406231917
 SIM:ACTIVATE:POSTPAID:3801234568:222981122334456:TIMESTAMP:20090406231917
 SIM:ACTIVATE:POSTPAID:3801234569:222981122334457:TIMESTAMP:20090406231917
 SIM:ACTIVATE:PREPAID:3801234567:222981122334455:TIMESTAMP:20090406231917
 SIM:ACTIVATE:PREPAID:3801234568:222981122334456:TIMESTAMP:20090406231917
 SIM:ACTIVATE:PREPAID:3801234569:222981122334457:TIMESTAMP:20090406231917</tt></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
to handle ftp put get del dir from command line with or without recursion on subdirectories, e.g.:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><tt> @dir ftp://myusername:mypassword@myremotehost/my/remote/file
 @dir ftp://myusername:mypassword@myremotehost/my/remote/dir *.txt
 @get ftp://myusername:mypassword@myremotehost/my/remote/file /my/local/dir
 @get ftp://myusername:mypassword@myremotehost/my/remote/dir /my/local/dir *.txt
 @put ftp://myusername:mypassword@myremotehost/my/remote/file /my/local/dir
 @put ftp://myusername:mypassword@myremotehost/my/remote/dir /my/local/dir *.txt
 @del ftp://myusername:mypassword@myremotehost/my/remote/file
 @del ftp://myusername:mypassword@myremotehost/my/remote/dir</tt></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
to generate combinations or dispositions of (N,K) (all, random or a subset validated by
  an external application reading from standard input a partial or complete sequence), e.g.:
</p>
</li>
</ul></div>
<div class="paragraph"><p><em>input</em></p></div>
<div class="listingblock">
<div class="content">
<pre><tt> @sequence 5,4
 ...
 @sequence 3^2
 ...
 @sequence 6,4 /my/external/validator
 ...
 @random 7 4
 ...
 @foreach 4,3
 the items of sequence are @1@, @2@ and @3@ (sequence @0@)
 @end</tt></pre>
</div></div>
<div class="paragraph"><p><em>output</em></p></div>
<div class="listingblock">
<div class="content">
<pre><tt> 1 2 3 4
 1 2 3 5
 1 2 4 5
 1 3 4 5
 2 3 4 5
 ...
 1,1
 1,2
 1,3
 2,1
 2,2
 2,3
 3,1
 3,2
 3,3
 ...
 1 4 5 6
 2 3 4 5
 ...
 3
 2
 7
 1
 ...
 the items of sequence are 1, 2 and 3 (sequence 1 2 3)
 the items of sequence are 1, 2 and 4 (sequence 1 2 4)
 the items of sequence are 1, 3 and 4 (sequence 1 3 4)
 the items of sequence are 2, 3 and 4 (sequence 2 3 4)</tt></pre>
</div></div>
<div class="paragraph"><p>and other features such as creating a readable archive of a text files&#8230;</p></div>
<div class="paragraph"><p>For details on <em><em>MySTE</em></em> see <a href="myste/index.html"><strong><em>MySTE</em></strong></a></p></div>
</div>
<h2 id="_mysde">MySDE</h2>
<div class="sectionbody">
<div class="paragraph"><p><em>MySDE</em> (My Service Development Environment) is a lightweight UNIX
development environment makefile based for <em>C/C++</em> and <em>Java</em> software projects.</p></div>
<div class="paragraph"><p>It is the development environment of <tt>MySVC</tt> framework and includes support:</p></div>
<div class="ulist"><ul>
<li>
<p>
to build external libraries and binaries from packages sources
  handling multiple configurations for different UNIX environments
</p>
</li>
<li>
<p>
for configuration management (RCS)
</p>
</li>
<li>
<p>
for third party C/C++ and Java libraries
    (including J2EE web applications .war)
</p>
</li>
<li>
<p>
for Lex &amp; Jacc compilers
</p>
</li>
<li>
<p>
for AsciiDoc based web sites
</p>
</li>
<li>
<p>
for FTP deploy
</p>
</li>
</ul></div>
<div class="paragraph"><p>This environment is configured as:</p></div>
<div class="ulist"><ul>
<li>
<p>
a base environment
  (under $MYSDE_BASE)
</p>
</li>
<li>
<p>
a root environment, which is a subset of the base environment
  (under $MYSDE_ROOT=$MYSDE_BASE/src/&lt;mysystem&gt;)
</p>
</li>
</ul></div>
<div class="paragraph"><p>The base environment contains:</p></div>
<div class="ulist"><ul>
<li>
<p>
all package sources and binaries
</p>
</li>
<li>
<p>
all makefiles to build binaries from sources
</p>
</li>
<li>
<p>
the support to create initial configuration for more UNIX
  environments and switch from one environment to another
  (each environment using its environment variable name for
   shared libraries)
</p>
</li>
<li>
<p>
the support to archive system binaries and sources
</p>
</li>
</ul></div>
<div class="paragraph"><p>The root environment contains all system sources and
its configured as a tree with three logical levels:</p></div>
<div class="ulist"><ul>
<li>
<p>
The system is the root of the tree
</p>
</li>
<li>
<p>
The subsystems are the childs of the system
</p>
</li>
<li>
<p>
The software units are the childs of each subsystem
  and the leafs of the tree
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><tt>system
  |
  | ---- subsystem1
  |          |
  |          | ---- softwareunit11
  |          | ---- softwareunit12
  |          | ---- ...
  |          | ---- softwareunit1M
  | ---- subsystem2
  |          |
  |          | ---- softwareunit21
  |          | ---- softwareunit22
  |          | ---- ...
  |          | ---- softwareunit2M
  | ...
  | ---- subsystemN
             |
             | ---- softwareunitN1
             | ---- softwareunitN2
             | ---- ...
             | ---- softwareunitNM</tt></pre>
</div></div>
<div class="paragraph"><p>Each of the three levels (system, subsystem and software unit)
has an src subdirectory containing the corresponding
Makefile to customize filling some variables</p></div>
<div class="paragraph"><p>There is also a forth Makefile, included by other three makefiles,
that is the "engine" of the development environment</p></div>
<div class="paragraph"><p>The src subdirectories of the software units contain all the
software (including scripts and configuration files)</p></div>
<div class="paragraph"><p>Each software unit can generate one the following objects:</p></div>
<div class="ulist"><ul>
<li>
<p>
a C/C++ application
</p>
</li>
<li>
<p>
a C/C++ library (lib*.a or lib*.so) that can be used (linked):
</p>
<div class="ulist"><ul>
<li>
<p>
only from other software units of its own subsystem
      ("subsystem" library)
        or
</p>
</li>
<li>
<p>
also from software units of other subsystems
      ("system" library)
</p>
</li>
</ul></div>
</li>
<li>
<p>
a Java application
</p>
</li>
<li>
<p>
a Java library (.jar)
</p>
</li>
<li>
<p>
a Java/J2EE web application (.war)
</p>
</li>
<li>
<p>
an AsciiDoc based Web Site
  (with automatic FTP deploy)
</p>
</li>
</ul></div>
<div class="paragraph"><p>From the system level is then possible to generate Java libraries
(<strong>.jar) or web applications (</strong>.war)</p></div>
<div class="paragraph"><p><em>Examples</em></p></div>
<div class="listingblock">
<div class="content">
<pre><tt>The MySDE installation kit is made only of the mysde shell script.

In order to use MySDE you must:

* create the development environment executing mysde (specifying
  as optional argument its base directory):
      mysde
  (if not base directory is specified then $HOME/mysde is used as default)

* to use the development environment execute:
      . $HOME/mysde/.profile
  (to set all environment variables including
   $MYSDE_BASE as the base directory $HOME/mysde and
   $MYSDE_ROOT as the root directory $HOME/mysde/src/mysde,
   or $MYSYSTEM_BASE and $MYSYSTEM_ROOT if, for example,
   $HOME/mysystem was specified as base directory)

* if necessary customize file $MYSDE_BASE/.mysderc with
  environment variables, such as external PATH or
  LD_LIBRARY_PATH or others environment variables
  (or $MYSYSTEM_BASE/.mysystemrc if, for example,
   $HOME/mysystem was specified as base directory)

* copy under $MYSDE_BASE/pkg the source packages .tar.gz
  to be used by development environment (e.g. rcs-5.7.tar.gz),
  buildable with commands such as:
  configure
  make
  make install

* customize $MYSDE_BASE/makefiles/Makefile to add actions
  to build each source package copying the predefined templates
  build.mypkg and clean.mypkg (or customizing it if the commands
  specified into build.mypkg.template and clean.mypkg.template
  templates are not ok to build or clean the package)
  build.rcs-5.7:
        make build package=rcs-5.7

  clean.rcs-5.7:
        make clean package=rcs-5.7

* build each package executing under $MYSDE_BASE:
  make build.rcs-5.7

* add some subsystem and/or softwareunit to development
  environment:
      mysde -S mysubsystem1/mysoftwareunit1,mysubsystem2/mysoftwareunit2
  (or mysde -S mysubsystem1/mysoftwareunit1,mysubsystem2/mysoftwareunit2 $HOME/mysystem
   if, for example, $HOME/mysystem was specified as base directory)

* another way to add a subsystem is to execute under $MYSDE_ROOT/src
      make init subsystems="mysubsystem"

* another way to add a software unit is to execute under $MYSDE_ROOT/src/mysubsystem/src
      make init softwareunits="mysoftwareunit"

* customize $MYSDE_ROOT/src/Makefile specifying into variable SUBSYSTEMS
  the list of added subsystems (using one backslash as line terminator,
  for each line, if muliple lines are used to specify the list
  instead of spaces)

* for each subsystem customize $MYSDE_ROOT/src/mysubsystem/src/Makefile
  specifying into variable SOFTWAREUNITS the list of its softwareunits

* for each softwareunit of each subsystem copy under
  $MYSDE_ROOT/src/mysubsytem/src/mysoftwareunit/src the source code and
  configuration files used by that softwareunit

* for each softwareunit of each subsystem customize
  $MYSYSTEM_ROOT/src/mysubsytem/src/mysoftwareunit/src/Makefile
  specifying values for variables corresponding to source code
  files, binary targets, library paths, library names  or other
  options (e.g. for a C++ main application TARGET_BIN for the name
  of executable and SOURCES.cc and SOURCES.hh the name of C++ source
  code files)

* build the softwareunit and install (e.g. under $MYSDE_ROOT/bin,
  $MYSDE_ROOT/lib, $MYSDE_ROOT/classes of $MYSDE_ROOT/web)
  its deliverables (e.g. C++ executable, Java or C++ library)
  executing under $MYSDE_ROOT/src/mysubsytem/src/mysoftwareunit/src:
      make
      make install

* to backup only the development environment root tree execute
  under $MYSDE_ROOT/src:
      make tar
  (creating under $MYSDE_ROOT/.. a file mysde-YYYYMMDDhhmmssr-src.tar.gz)

* to backup your entire development environment base tree execute
  under $MYSDE_BASE:
      make tar
  (creating under $MYSDE_BASE/.. a file mysde-YYYYMMDDhhmmss.tar.gz)

* to use the development environment under another UNIX OS
  (e.g. a sun) is sufficient
    - make a backup of the entire development environment
      base tree
    - copy via ftp this backup file mysde-YYYYMMDDhhmmss.tar.gz
      on the new sun host
    - untar the backup:
        gunzip mysde-YYYYMMDDhhmmss.tar.gz
        tar xvf mysde-YYYYMMDDhhmmss.tar
    - execute . $MYSDE_BASE/.profile to init all environment
      variables
    - setup a new environment executing under $MYSDE_BASE:
      make init names="sun"
      (to create a new default set of sun configuration files)
      make conf name="sun"
      (to switch all symbolic links
       to sun files $MYSDE_BASE/.profile.sun, $MYSDE_BASE/.mysderc.sun,
       $MYSDE_BASE/local.sun, $MYSDE_BASE/.build.sun and
       $MYSDE_BASE/makefiles/Makefile.sun)
    - customize (if necessary) $MYSDE_BASE/.mysderc and
      $MYSDE_BASE/makefiles/Makefile
    - rebuild all packages from their sources executing the same
      "make build" commands from $MYSDE_BASE
      (e.g. make build package=rcs-5.7)
    - rebuild all subsystems and sofwareunit, e.g. executing
      from $MYSDE_ROOT/src:
          make clean
          make

* to return developing on the previous UNIX OS (e.g. "default"
  created as default when setup the development environment)
  is sufficient:
    - backup the entire development environment base tree
    - copy and untar this backup on the previous UNIX
    - execute:
        make conf name="default"
        (to switch all symbolic links
         to default files $MYSDE_BASE/.profile.default, $MYSDE_BASE/.mysderc.default,
         $MYSDE_BASE/local.default, $MYSDE_BASE/.build.default and
         $MYSDE_BASE/makefiles/Makefile.default)
    - rebuild all subsystems and sofwareunits executing
      from $MYSDE_ROOT/src:
          make clean
          make

* to get help on make commands availables execute
  from $MYSDE_BASE and $MYSDE_ROOT/src:
      make help

* two main rules when edit a Makefile:
    - when assign a value to a variable
        don't put spaces after equal ('=')
        if a value is multi-line end each line
        with a backspace ('\')
    - each command of a target must begin
      with a single tab character
  use ": set list" editing files with vi to view
  the hidden characters such as tabs and end of lines
  (then ":set nolist" to switch off)
  look at $MYSDE_ROOT/src/makefiles/Makefile as example</tt></pre>
</div></div>
<div class="paragraph"><p>For details on <em>MySDE</em> see <a href="mysde/index.html"><strong>MySDE</strong></a></p></div>
</div>
<h2 id="_myspl">MySPL</h2>
<div class="sectionbody">
<div class="paragraph"><p>MySPL (<em>My Service Protocol Library</em>) is a C++ library to implement any TCP/IP socket client/server
for binary or ASCII protocols.</p></div>
<div class="paragraph"><p>For example, to implement a socket client for a binary protocol you can use the library classes
defining your protocol messages from their fields (each of its type and size):</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>...
//
// VERSION
//

class UPSPVersion: public Message
{
  public:
    UPSPVersion():
      Message(5,"VERSION")
    {
      // Header fields
      assign(0,new Int4Field("length",18));
      assign(1,new Int2Field("msg_type",UPSP_VERSION));
      assign(2,new Int4Field("client_data_1"));
      assign(3,new Int4Field("client_data_2"));

      // Body field
      assign(4,new Int4Field("version",4));
    }
};

//
// LOGIN_REQ
//

class UPSPLoginReq: public Message
{
  public:
    UPSPLoginReq():
      Message(6,"LOGIN_REQ")
    {
      // Header fields
      assign(0,new Int4Field("length",71));
      assign(1,new Int2Field("msg_type",UPSP_LOGIN_REQ));
      assign(2,new Int4Field("client_data_1"));
      assign(3,new Int4Field("client_data_2"));

      // Body fields
      assign(4,new StringField(32,"username"));  // to init
      assign(5,new StringField(25,"password"));  // to init
    }
};

//
// LOGIN_ACK
//

class UPSPLoginAck: public Message
{
  public:
    UPSPLoginAck():
      Message(4,"LOGIN_ACK")
    {
      // Header fields
      assign(0,new Int4Field("length",14));
      assign(1,new Int2Field("msg_type",UPSP_LOGIN_ACK));
      assign(2,new Int4Field("client_data_1"));
      assign(3,new Int4Field("client_data_2"));
    }
};

//
// LOGIN_NACK
//

class UPSPLoginNAck: public Message
{
  public:
    UPSPLoginNAck():
      Message(6,"LOGIN_NACK")
    {
      // Header fields
      assign(0,new Int4Field("length",530));
      assign(1,new Int2Field("msg_type",UPSP_LOGIN_NACK));
      assign(2,new Int4Field("client_data_1"));
      assign(3,new Int4Field("client_data_2"));

      // Body fields
      assign(4,new Int4Field("error_code"));
      assign(5,new StringField(512,"error_msg"));
    }
};
...</tt></pre>
</div></div>
<div class="paragraph"><p>and then using them:</p></div>
<div class="ulist"><ul>
<li>
<p>
creating a SocketClient from ip address and port
</p>
</li>
<li>
<p>
instantiating the message objects
</p>
</li>
<li>
<p>
implementing the workflow corresponding to the protocol
  reading and writing messages simply using the operators
  &lt;&lt; and &gt;&gt;, or accessing their fields by name or by
  index:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><tt>  ...
  try
  {
    SocketClient wildfire(ipaddress,port);

    // Connection to wildfire ...

    if(upsp_log)
      cerr &lt;&lt; "Connecting to Wildfire ..." &lt;&lt; endl;

    wildfire.connect();

    UPSPHeader               header;

    UPSPVersion              version;
    UPSPLoginReq             login_req;
    ...
    int msg_type;
    ...

    // Login ...

    if(upsp_log)
      cerr &lt;&lt; "Sending version ..." &lt;&lt; endl;

    version[4] = "1.0";

    if(upsp_log)
    {
      if(upsp_trace)
        cerr &lt;&lt; version &lt;&lt; endl;
      cerr &lt;&lt; "  &lt;version&gt; = &lt;"
           &lt;&lt; ((Int4Field&amp;) version[4]).value()
           &lt;&lt; "&gt;" &lt;&lt; endl;
    }

    wildfire &lt;&lt; version;

    login_req[4] = "myusername";
    login_req[5] = "mypassword";

    if(upsp_log)
    {
      cerr &lt;&lt; "Sending login_req ..." &lt;&lt; endl;
      if(upsp_trace)
        cerr &lt;&lt; login_req;
      cerr &lt;&lt; "  &lt;username&gt; = &lt;" &lt;&lt; username &lt;&lt; "&gt;" &lt;&lt; endl;
      cerr &lt;&lt; "  &lt;password&gt; = &lt;" &lt;&lt; password &lt;&lt; "&gt;" &lt;&lt; endl;
    }

    wildfire &lt;&lt; login_req;

    if(upsp_log)
      cerr &lt;&lt; "Reading ..." &lt;&lt; endl;

    wildfire &gt;&gt; header;

    if(upsp_log)
    {
      if(upsp_trace)
        cerr &lt;&lt; header &lt;&lt; endl;
    }

    msg_type = (Int2Field&amp;) header[1];

    switch(msg_type)
    {
      case UPSP_LOGIN_ACK:
      {
        if(upsp_log)
          cerr &lt;&lt; "Received login_ack ..." &lt;&lt; endl;

        break;
      }
      case UPSP_LOGIN_NACK:
      {
        if(upsp_log)
        {
          cerr &lt;&lt; "Received login_nack ..." &lt;&lt; endl;
          cerr &lt;&lt; "Reading login_nack body ..." &lt;&lt; endl;
        }

        wildfire &gt;&gt; login_nack_body;

        if(upsp_log)
        {
          if(upsp_trace)
            cerr &lt;&lt; login_nack_body &lt;&lt; endl;
          cerr &lt;&lt; "  &lt;error_code&gt; = &lt;"
               &lt;&lt; ((Int4Field&amp;) login_nack_body[0]).value()
               &lt;&lt; "&gt;" &lt;&lt; endl;
          cerr &lt;&lt; "  &lt;error_msg&gt; = &lt;"
               &lt;&lt; ((StringField&amp;) login_nack_body[1]).value()
               &lt;&lt; "&gt;" &lt;&lt; endl;
        }

        break;
      }
      ...
   }
   ...
  }
  catch(SocketException e)
  {
    cerr &lt;&lt; e &lt;&lt; endl;

    return WF_CONNECTION_ERROR;
  }
...</tt></pre>
</div></div>
<div class="paragraph"><p>With this library you can also implement a simple ASCII protocol
or define tree messages to implement complex binary protocols</p></div>
<div class="paragraph"><p>For details on <em>MySPL</em> see <a href="myspl/index.html"><strong>MySPL</strong></a></p></div>
</div>
<h2 id="_myexpr">MyExpr</h2>
<div class="sectionbody">
<div class="paragraph"><p>MyExpr (<em>My Service Expression Engine</em>) is a Java library (<em>myexpr.jar</em>) implementing a general purpose parser for expressions based on precedence operator parsing, using regular expressions to define lexical analyzer and generating a binary syntax tree as parser output.</p></div>
<div class="paragraph"><p>The parser convert the string representation of the expression to its corresponding binary syntax tree and from binary syntax tree (an instance of <em>Expr</em> class or subclass) you can obtain the corresponding string representation.</p></div>
<div class="paragraph"><p>E.g.:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>import it.mysvc.expr.*;
...
Parser parser = new Parser(new MyExprOperators(),new MyExprLexer(),new MyExprFactory());
...
Expr expr = parser.parse("x*(y+-z))");
...
...
Expr left = expr.getLeft();
Expr right = expr.getRight();
String info = expr.getInfo();
int code = expr.getCode();
...</tt></pre>
</div></div>
<div class="paragraph"><p>You must only implement some interfaces, e.g. to define unary and binary operators:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>...
public class MyExprOperators implements Operators
{
  // binary operators
  public static final int AND         = 0;
  public static final int OR          = 1;
  public static final int IMPLIES     = 2;
  public static final int EQUIVALENT  = 3;
  public static final int ASSIGN      = 4;

  // unary operator
  public static int NOT               = 0;

  // constants TRUE and FALSE
  public static final int TRUE        = -1;
  public static final int FALSE       = 0;

  public int getBinaryOperators()
  {
    return 5;
  }

  public int getPrecedence(int binaryOperator)
  {
    switch(binaryOperator)
    {
      // AND
      case 0:
        return 5;
      // OR
      case 1:
        return 4;
      // IMPLIES
      case 2:
        return 3;
      // EQUIVALENT
      case 3:
        return 2;
      // ASSIGN
      default:
        return 1;
    }
  }

  public boolean isLeftAssociative(int binaryOperator)
  {
    return true;
  }

  public boolean isPrefix(int unaryOperator)
  {
    return true;
  }

  public boolean isPostfix(int unaryOperator)
  {
    return true;
  }
}
...</tt></pre>
</div></div>
<div class="paragraph"><p>or to define the regular expression for unary and binary operators, operands and parenthesis:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>...
// MyExprLexer:

public String[] getBinaryOperators()
{
  return new String[]
  {
    "&amp;|and|\\*",    // code == 0
    "\\||or|\\+",   // code == 1
    "-&gt;|implies",   // code == 2
    "&lt;-&gt;|iff",      // code == 3
    "=|is"          // code == 4
  };
}
...
public String[] getUnaryOperators()
{
  return new String[]
  {
    "-|~|!|not",
    "\\[[0-9]*\\]",
    "&lt;[0-9]*&gt;"
  };
}
...</tt></pre>
</div></div>
<div class="paragraph"><p>or to get expression string corresponding to operators and operands:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>// MyExprWriter:
...
public String getBinaryOperator(int code,String info)
{
  switch(code)
  {
    case MyExprOperators.AND:
      return "&amp;";
    case MyExprOperators.OR:
      return "|";
    case MyExprOperators.IMPLIES:
      return "-&gt;";
    case MyExprOperators.EQUIVALENT:
      return "&lt;-&gt;";
    case MyExprOperators.ASSIGN:
      return "=";
   }

   return null;
}
...</tt></pre>
</div></div>
<div class="paragraph"><p>For details on <em>MyExpr</em> see <a href="myexpr/index.html"><strong>MyExpr</strong></a></p></div>
</div>
<h2 id="_mysvcd">MySVCD</h2>
<div class="sectionbody">
<div class="paragraph"><p>MySVCD (<em>My Service Daemon</em>) is an expect script to be used as configurable generic (tcp/ip or http) server or client, where single operation implementation can be implemented as expect procedure or external process such as a shell script.</p></div>
<div class="paragraph"><p>Can be used as TCP/IP server (e.g. HTTP server or based on a custom protocol), proxy or client.</p></div>
<div class="paragraph"><p>For example, the server can be an external application (e.g. handling the HTTP session) that:</p></div>
<div class="ulist"><ul>
<li>
<p>
read the client requests from standard input
</p>
</li>
<li>
<p>
process the client requests
</p>
</li>
<li>
<p>
write the server responses to standard output
</p>
</li>
</ul></div>
<div class="paragraph"><p>where:</p></div>
<div class="ulist"><ul>
<li>
<p>
the client requests are sent to stdin of server
</p>
</li>
<li>
<p>
the server responses are read from stdout of server
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><tt>$ mysvcd /path/to/myserver.sh</tt></pre>
</div></div>
<div class="listingblock">
<div class="title">Server Script (myserver.sh)</div>
<div class="content">
<pre><tt>#!/bin/sh

while :
do
  read request

  echo "received request $request ..."
  echo "response to request &lt;$request&gt; ..."

  if [ "$request" = "quit" ]
  then
    echo "exit"

    exit
  fi
done</tt></pre>
</div></div>
<div class="paragraph"><p>With its simple usage:</p></div>
<div class="ulist"><ul>
<li>
<p>
the client request is write on standard output (one or more lines)
</p>
</li>
<li>
<p>
the server response is read from standard input (one or more lines)
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">Server Side</div>
<div class="content">
<pre><tt>$ mysvcd -l
2014-05-12 23:48:16 0   I start [8012]
2014-05-12 23:48:17 0   I server 192.168.0.105:10306
2014-05-12 23:48:33 0   I opening connection to client 127.0.0.1:50797
2014-05-12 23:48:33 0   I waiting for request from client 127.0.0.1:50797
2014-05-12 23:48:44 0   I received request from client 127.0.0.1:50797
my request 1...
my request 1...
my response 1...
2014-05-12 23:49:06 0   I sending response to client 127.0.0.1:50797
my response 1...
2014-05-12 23:49:35 0   I received request from client 127.0.0.1:50797
my last request...
my last request...
my last response...
2014-05-12 23:49:59 0   I sending response to client 127.0.0.1:50797
my last response...
^C2014-05-12 23:50:04 0   I received signal SIGINT
2014-05-12 23:50:04 0   I stop [8012]</tt></pre>
</div></div>
<div class="listingblock">
<div class="title">Client Side</div>
<div class="content">
<pre><tt>$ telnet localhost 10306
Trying ::1...
telnet: connect to address ::1: Connection refused
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
my request 1...
my response 1...
my last request...
my last response...
Connection closed by foreign host.</tt></pre>
</div></div>
</div>
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">The pages of this web site were written using AsciiDoc, an open source text based document format that can be translated to HTML and DocBook markups. DocBook can then be post-processed to presentation formats such as HTML, PDF, DVI, LaTeX, roff and Postscript usingreadily available Open Source tools (see <a href="http://www.methods.co.nz/asciidoc/">AsciiDoc web site</a>).</td>
</tr></table>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.400<br />
Last updated 2014-06-28 16:23:22 CEST
</div>
<div id="footer-badges">
<img style="border:none; width:88px; height:31px;"
     src="./images/gplv3-127x51.png"
     alt="GPL Version 3" />
<!-- Histats.com  START  -->
<a href="http://www.histats.com" target="_blank" title="simple hit counter" >
<script  type="text/javascript" language="javascript">
var s_sid = 675659;var st_dominio = 4;
var cimg = 0;var cwi =112;var che =48;
</script></a><script  type="text/javascript" language="javascript" src="http://s10.histats.com/js9.js"></script>
<noscript><a href="http://www.histats.com" target="_blank">
<img  src="http://s4.histats.com/stats/0.gif?675659&1" alt="simple hit counter" border="0"></a>
</noscript>
<!-- Histats.com  END  -->
</div>
</div>
</div>
</td>
</tr>
</table>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-11334618-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
